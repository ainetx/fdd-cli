# AI Agent Instructions for fdd-cli

<!-- 
⚠️ AI AGENT NOTICE: This file was generated by workflow adapter-config.
If user wants to modify this adapter, run workflow adapter-config again or edit manually with caution.
Manual edits may be overwritten if workflow is re-run.
-->

**Extends**: `../FDD/AGENTS.md`

---

## Project Context

**Purpose**: CLI tool for FDD (Feature-Driven Development) methodology

**Technology Stack**:
- Runtime: Node.js
- Domain Model: GTS (Global Type System) + JSON Schema
- API Contracts: CLISPEC
- Architecture: Modern Node.js patterns

---

## Core Methodology

**READ FIRST**: `spec/FDD/AGENTS.md`

**CRITICAL**: Follow all rules in `spec/FDD/AGENTS.md` - they are immutable and validated by tooling.

---

## Adapter Dependencies

**Requirements for adapter functionality**:

1. **GTS specification MUST be accessible**
   - Location: `spec/GTS/README.md`
   - Purpose: Domain model type validation
   - Impact if missing: Cannot validate GTS schemas, type definitions will fail

2. **CLISPEC specification MUST be accessible**
   - Location: `spec/FDD/CLISPEC.md`
   - Purpose: CLI command definition validation
   - Impact if missing: Cannot validate command structures, CLI specs will fail

3. **Validation output format**
   - Report missing specs with clear indication (e.g., "❌ spec missing")
   - Report accessible specs with confirmation (e.g., "✓ spec found")
   - List impacts if dependencies unavailable

**Resolution if missing**: Initialize git submodules to ensure all specifications are present

**When to check**: Before starting any FDD work, during adapter initialization, in CI/CD pipelines

---

## Domain Model

**Technology**: GTS (Global Type System) + JSON Schema

**Specification**: `spec/GTS`

**⚠️ CRITICAL**: Before using GTS, read the specification at `spec/GTS/README.md`

**⚠️ GTS IDENTIFIER RULES** (STRICTLY ENFORCED):
- ALL segments MUST be lowercase (a-z, 0-9, underscore only)
- NO uppercase letters allowed in identifiers
- Format: `gts.vendor.package.namespace.type.v<MAJOR>[.<MINOR>]`
- Type names: use snake_case (e.g., `user_profile`, NOT `UserProfile`)
- Example: `gts.ainetx.fdd_cli.validation.validation_result.v1` ✅
- Invalid: `gts.ainetx.fdd_cli.validation.ValidationResult.v1` ❌

**Location**: `gts/`

**DML Syntax**: Use GTS reference format in JSON Schema `$ref` fields:
- Schema $id: `gts.vendor.package.namespace.type.v<version>`
- Schema $ref: `gts://gts.vendor.package.namespace.type.v<version>`
- All identifiers MUST be lowercase with underscores for word separation

**Validation**: Validate JSON schemas per JSON Schema draft-07 specification. Verify GTS identifiers follow lowercase-only format.

---

## API Contracts

**Technology**: CLISPEC

**Specification**: `spec/FDD/CLISPEC.md`

**⚠️ CRITICAL**: Before defining CLI commands, read the CLISPEC specification

**Location**: `spec/CLI`

**CLI Contract Format**: Follow CLISPEC format for all command definitions
- Commands documented in `spec/CLI/commands.clispec`
- Follow docopt.org conventions for CLI interface design

---

## Technical Architecture (Section C)

### Security Model

No security - local CLI tool without network security requirements

### Non-Functional Requirements

- **Technology Stack**: Node.js with modern patterns and technologies
- **CLI Design**: Follow docopt.org conventions for consistent CLI interface

---

## References

- **Core FDD**: `spec/FDD/AGENTS.md`
- **Workflows**: `spec/FDD/workflows/`
- **FDL Syntax**: `spec/FDD/FDL.md`
- **Adapter Guide**: `spec/FDD/ADAPTER_GUIDE.md`
- **GTS Specification**: `spec/GTS/README.md`
- **CLISPEC Specification**: `spec/FDD/CLISPEC.md`